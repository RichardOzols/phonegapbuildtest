<!DOCTYPE html>
<html>
    <head>
        <title>PGB Kitchen Sink</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
    </head>
    <body>

		<div data-role="page" id="pageBarcode" data-cache="never">
			<script type="text/javascript" charset="utf-8">
				//https://build.phonegap.com/docs/plugins
				//https://github.com/wildabeast/BarcodeScanner/blob/master/README.md
				
				$("#pageBarcode").bind('pageshow', function() {
					$("#btnScan")off('click').on('click', function() {
						scan();
					});
					$("#btnEncode")off('click').on('click', function() {
						var msg = "http://google.com/";
						encode(msg);
					});
				});
				
				function scan() {
					window.plugins.barcodeScanner.scan( function(result) {
							alert("We got a barcode\n" +
									  "Result: " + result.text + "\n" +
									  "Format: " + result.format + "\n" +
									  "Cancelled: " + result.cancelled);
						}, function(error) {
							alert("Scanning failed: " + error);
						}
					);
				}
				
				function encode(msg) {
					window.plugins.barcodeScanner.encode(BarcodeScanner.Encode.TEXT_TYPE, msg, function(success) {
						alert("encode success: " + success);
					  }, function(fail) {
						alert("encoding failed: " + fail);
					  }
					);
				}
									
			</script>
		
			<div data-role="header">
				<h1>Barcode Scanner</h1>
			</div><!-- /header -->

			<div data-role="content">	
				<button id="btnScan" data-role="button">Scan Now</button>
				<button id="btnEncode" data-role="button">Encode Now</button>
			</div><!-- /content -->

		</div><!-- /page -->
    				
    </body>
</html>